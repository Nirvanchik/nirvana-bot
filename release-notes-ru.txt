
                            NirvanaBot v1.18
                            StatisticsBot v1.2
                            NirvanaArchiveBot v1.3
                            CleanArchiveBot v0.01
                            UserStatBot v1.0
                            BasicBot v1.2

                            ЗАМЕТКИ О РЕЛИЗЕ


ВСТУПЛЕНИЕ

Этот документ содержит заметки о релизе версии 1.18 приложения NirvanaBot.
Это приложение - бот для Русской Википедии.
Бот обновляет секции порталов и проектов, такие как "Новые статьи", "Новые шаблоны", "Новые категории",
"Новые изображения", "Изображения новых статей", "Список наблюдения", "Статьи" (просто список статей с
возможностью выборки по шаблонам, например избранные статьи, хорошие статьи, добротные статьи,
и статьи-кандидаты в эти статусы, статьи помеченные шаблоном Rq), "Обсуждаемые статьи" (статьи,
по которым ведут дискуссию или которые нуждаются в проверке опытным редактором, например "К удалению",
К переименованию", "К улучшению", "К объединению" и т.д.).

В пакет также входят дополнительные боты:

* StatisticsBot версии 1.2, который обновляет статистку создания новых статей по порталам.
* NirvanaArchiveBot версии 1.3, который может обрабатываеть существующие архивы новых страниц:
сортировать, добавлять заголовки, секции, нумеровать, удалять дубликаты.
* CleanArchiveBot v0.01 - чистит архивы новых статей от ненужных статей.
* UserStatBot версии 1.0, который может собрать информацию о количестве созданных пользователем
дизамбигов (на входе даётся список пользователей).
* BasicBot v1.2 - фреймворк для быстрого создания ботов, содержит базовый ботовый функционал.

Дополнительную информацию см. на веб-сайтах:
* https://github.com/Nirvanchik/nirvana-bot/blob/wiki/ProjectHome.md
* https://ru.wikipedia.org/wiki/User:NirvanaBot


ИСТОРИЯ ВЕРСИЙ
07 января 2019 - NirvanaBot v1.18
--------------------------------------------------------------------------------------------------------------
* Обновлен фреймворк Wiki-java 0.31 -> 0.33
* Исправлена авторизация бота для нового Mediawiki 1.33 (с этой версии старый механизм авторизации отключен).

15 апреля 2017 - NirvanaBot v1.17
--------------------------------------------------------------------------------------------------------------
* Создана система локализации бота. Теперь строки бота можно перевести на другие языки и бот может их
  подгрузить и использовать вместо русскоязычных. Основной набор переводов лежит в папке бота /translations.
  Также, дополнительный набор переводов может лежать на вики-странице и обновляться. Бот добавляет новые
  ключи которые у него появились, а пользователи могут их переводить.
* Добавлены переводы для белорусского языка
* Фича: бот сообщает на странице обсуждения порталов и проектов об ошибках в параметрах бота

12 января 2017 - NirvanaBot v1.16
--------------------------------------------------------------------------------------------------------------
* Добавлена поддержка нового сервиса petscan. Сервис catscan2 отключен и больше не используется (мертв).
* Исправлена ошибка при добавлении в список статей типа "/etc".
* В проект интегрирована проверка исходников checkstyle, со стилем кода от Google.
* Реализованы первые интеграционные тесты для бота. Они нужны, чтобы переделки не ломали существующую
  функциональность.
* Поддержка списка статей с шаблонами, где шаблон может быть с параметром, например {{rq|notability}}.
* Производительность: значительно ускорен поиск статей по шаблонам с параметром, или без.
* Небольшой полезный рефакторинг.
* Переезд системы логирования бота с Log4j на более современную Log4j 2.
* Переделка внутренних каталогов бота. Все каталоги, где бот генерирует какие-либо файлы (логи, кеш, дампы,
  отчёты), перемещены в общую папку /out. Также, для каждого языка теперь в /out создаётся свой отдельный
  каталог - /out/ru, /out/be, и т.д. Теперь можно запускать несколько копий бота одновременно, для разных
  языков. Для ru - один инстанс, для be - другой инстанс.

1 мая 2016 - NirvanaBot v1.15
--------------------------------------------------------------------------------------------------------------
* Добавлена преамбула на страницу подробного отчёта
* Глобальный таймаут. Если бот работает слишком долго, и не укладывается в таймаут, его работа останавливается.
  На обычный запуск выставлен таймаут 24 часа, на утренний запуск 2 часа.
* Мелкий несущественный рефакторинг

20 марта 2016 - NirvanaBot v1.14
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: умная обработка ошибок недоступности сервисов. Например, может временно отсутствовать интернет,
сервис catscan2 может временно не работать, но в это же время может работать catscan3. Бот теперь не мучается, 
пытаясь насильно обновлять списки и получая ошибки, а вовремя обнаруживает проблемы, и решает их.
Например, вместо сервиса catscan2 использует сервис catscan3, или просто ждёт пока не заработает сервис,
проверяя его состояние время от времени. Если сервисы недоступны в течении какого-то максимума (10 часов),
то бот просто прекращает работу. Это устранит ситуации, когда catscan2 выдавал таймауты, и бот выполнялся в
течение 2-3 (и даже 5) суток, хотя при этом не делал ничего полезного, т.к. получал ошибки.
* Мелкий несущественный рефакторинг
* Обновлён Wiki.java

08 марта 2016 - NirvanaBot v1.13
--------------------------------------------------------------------------------------------------------------
* Полноценное использование catscan2, после того как его основные функции доделали (catscan3 - медленный)
* Доработки: шаблоны популярных обсуждений (к удалению, к улучшению и др.) заданы в глобальных настройках бота,
и параметр "префикс" не нужен
* Доработки: fair use шаблоны задаются в глобальных настройках бота
* Переход на Wiki.java 0.31
* Исправлены различные баги
* Рефакторинг
* Оптимизации

03 сентября 2015 - NirvanaBot v1.12
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: тонкий поиск статей по шаблонам: можно в список новых статей отобрать статьи с определённым параметром,
заданным в определённом шаблоне, см. пример:
https://ru.wikipedia.org/wiki/Участник:NirvanaBot/test/Портал/Новые статьи (сложные настройки)/Параметры
* Добавлена фича: несвободные изображения ("fair use") пропускаются при сборе изображений для списков "новые статьи с изображениями"
* Добавлена фича: подробный ежесуточный отчёт, см. пример в RU-wiki: https://ru.wikipedia.org/wiki/Участник:NirvanaBot/Новые_статьи/Отчёт

18 декабря 2014 - NirvanaBot v1.11 revision 20
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: Новые типы списков: Статьи с шаблонами, Статьи с обсуждениями
* Исправлены некоторые баги
* Рефакторинг
* Оптимизация

16 ноября 2014 - NirvanaBot v1.10 revision 19
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: Новые статьи по дням - обновление списков новых статей за последние 7 дней - 7 списков
* Исправлены баги: Обнаружились некоторые баги, не замеченные ранее, а также баги новых фич

4 ноября 2014  - NirvanaBot v1.9 revision 18, StatisticsBot v1.2
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: в статистике отчеты "рейтинг" и "рейтинг за год" можно фильтровать по минимально допустимому размеру статьи
* Добавлена фича: в одном конфиге можно указать несколько настроечных шаблонов бота
* Добавлена фича: репортинг краткого отчёта бота на страницу Википедии
* Добавлена фича: подробный репортинг содержит тип ошибки
* Улучшенный репортинг в консоль
* Некоторый рефакторинг кода (инкапсуляция особенностей сервисов в 1 файл)
* Исправлены баги

14 июля 2014 - NirvanaBot v1.8 revision 17
--------------------------------------------------------------------------------------------------------------
* Добавлена фича: несколько запусков бота за сутки, порталы, порталы могут указать, сколько раз в день обновлять список
* Добавлена фича: несколько параметров "категории" и "игнорировать": "категории1", "категории2" и т.д. Пары "категорииK"/"игнорироватьK"
обрабатываются ботом независимо друг от друга и это придает больше гибкости при настройке выборки статей. Необходимо для порталов
с очень широкой темой и крупной выборкой (например: Биология)
* Небольшой рефакторинг

27 апреля 2014 - NirvanaBot v1.7 revision 16
--------------------------------------------------------------------------------------------------------------
* Добавлена поддержка BE-wiki
* Переход на Wiki.java 0.30

19 января 2014 - NirvanaBot v1.7 revision 15
--------------------------------------------------------------------------------------------------------------
* Исправил ошибку того, что "Новые шаблоны", "Новые категории" и прочие нестатейные списки не обновлялись, или обновлялись неправильно

1 декабря 2013 - NirvanaBot v1.7 revision 14
--------------------------------------------------------------------------------------------------------------
* Поменял глубину по умолчанию 15 -> 7
* Умная обработка ситуации, когда параметр шапка/подвал поменялся
* Исправление бага (не работал логин в v1,6)
* Возможность указать глубину для каждой отдельно взятой категории

16 ноября 2013 - NirvanaBot v1.6 revision 13, NirvanaBasicBot v1.2
--------------------------------------------------------------------------------------------------------------
* Рефакторинг системы извлечения списка новых статей
* Переход с catscan на catscan2 (catscan опционально)
* Перевод настроек логин/пароль в отдельный файл настроек

22 сентября 2013 - NirvanaBot v1.5 revision 12, NirvanaArchiveBot v1.3, StatisticsBot v1.1, UserStatBot v1.0
--------------------------------------------------------------------------------------------------------------
* Небольшой рефакторинг
* StatisticsBot теперь берёт настройки проектов из Википедии
* Репорты NirvanaBot генерируются в формате UTF-8
* Написан и добавлен данный файл release-notes-ru.txt

20 сентября 2013 - NirvanaBot v1.5 revision 11, StatisticsBot v1.0.1, UserStatBot v1.0, NirvanaBasicBot v1.1
--------------------------------------------------------------------------------------------------------------
* Рефакторинг
* Исправление некоторых багов, в том числе
  * пустое поле "формат элемента"
  * бот статистики не работал, если на сервере локаль по-умолчанию не-русская
  * ошибка 504 сильно подвешивала бота
* Переход на Wiki.java 0.28 с новыми функциями и системой логина
* Переход на формат UTF-8
* UserStatBot - бот, который считает количество созданных дизамбигов для каждого юзера из списка

2 декабря 2013 - NirvanaBot v1.3 revision 9, NirvanaArchiveBot v1.3, StatisticsBot v1.0
---------------------------------------------------------------------------------------
* Рефакторинг
* Исправление некоторых багов, в том числе
  * не добавлялись статьи из User namespace
* Настройки по умолчанию для всех порталов теперь берутся из Википедии
* Расширенный поиск картинок по шаблонам и тегам
* Умная обработка редиректов и переименованных файлов
* NirvanaArchiveBot - добавлена возможность сортировки и удаления дубликатов
* StatisticsBot - собирает статистику из архивов и создаёт таблицы по дням, неделям, месяцам, годам и рейтинги участников
* ListTools: добавлена утилита обработки списков (объединение, минусование)

2 августа 2012 - NirvanaBot v1.02 revision 3, NirvanaArchiveBot v1.01, NirvanaBasicBot v1.0
---------------------------------------------------------------------
* Рефакторинг
* Исправления некоторых багов
* Новые формат архивов: архивы теперь могут иметь заголовки
* Также, архивы могут иметь нумерацию
* Статьи по дням отключены
* Поддержка флага bots/nobots
* NirvanaArchiveBot, проставляющий заговки в архивах

25 декабря 2011 - NirvanaBot v1.0
---------------------------------
* Первая версия. Обновляла списки статей примерно также как ClaymoreBot (см. https://ru.wikipedia.org/wiki/User:ClaymoreBot)
